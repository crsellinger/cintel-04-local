[{"name": "app.py", "content": "################################\n# Caleb Sellinger\n# 44630 Cont Intel\n# Dr. Case\n# 11-4-2024\n################################\n\nimport plotly.express as px\nfrom shiny.express import input, ui\nfrom shiny import render, reactive\nfrom shinywidgets import render_plotly\nimport palmerpenguins\nimport seaborn\n\n#Penguins data set\npenguins_df = palmerpenguins.load_penguins()\n\n#Page options, specifically title\nui.page_opts(title=\"Caleb Sellinger - Module 2: Palmer Penguins Data\", fillable=True)\n\n#Reactive Calculations\n@reactive.calc\ndef filtered_data():\n    selected_species = input.selected_species_list()\n    island = [input.selected_island()]\n    bins = input.seaborn_bin_count()\n    \n    if selected_species:\n        filtered = penguins_df[penguins_df[\"species\"].isin(selected_species)]\n\n    elif island:\n        filtered = penguins_df[penguins_df[\"island\"].isin(island)]\n        \n    return filtered\n    \n#column component\nwith ui.layout_columns():\n    #card componenet for Data Table\n    with ui.card(full_screen=True):\n        ui.h2(\"Penguins Data Table\")\n        #Data Table\n        @render.data_frame\n        def penguins_datatable():\n            return render.DataTable(filtered_data())\n\n    #Card component for Data Grid\n    with ui.card(full_screen=True):\n        ui.h2(\"Penguin Data Grid\")\n        #Data Grid\n        @render.data_frame\n        def penguins_datagrid():\n            return render.DataGrid(filtered_data())\n\n#column component\nwith ui.layout_columns():\n\n    @render.plot(alt=\"Seaborn histogram plot\")\n    def plot3():\n        return seaborn.histplot(data=penguins_df,x=\"species\",y=\"body_mass_g\",bins=input.seaborn_bin_count())\n    \n    @render_plotly\n    def plot4():\n        return px.histogram(data_frame=penguins_df,x=\"flipper_length_mm\",y=\"body_mass_g\",nbins=input.selected_number_of_bins())\n\n#Card component for scatter plot\nwith ui.card(full_screen=True):\n    ui.card_header(\"Plotly Scatterplot: Species\")\n\n    #Scatter plot for penguins data\n    @render_plotly\n    def plot5():\n        return px.scatter(filtered_data(),x=\"flipper_length_mm\",y=\"body_mass_g\",color=\"species\",title=\"Body Mass vs Flipper Length\",labels={\"body_mass_g\":\"Body Mass (g)\",\"f1lipper_length_mm\":\"Flipper Length (mm)\",\"species\":\"Species\"})\n    \n#Side bar component\nwith ui.sidebar(open=\"open\",bg=\"#99ccff\",fillable=True):\n    ui.input_dark_mode(mode=\"light\")\n    ui.h2(\"Sidebar\")\n    ui.input_checkbox_group(\"selected_species_list\",\"Select Species (Plot 1 & 2)\",choices=[\"Adelie\",\"Gentoo\",\"Chinstrap\"],selected=[\"Adelie\",\"Gentoo\",\"Chinstrap\"],inline=False)\n    ui.input_slider(\"seaborn_bin_count\",\"Seaborn Slider (Plot 3)\",0,150,50)\n    ui.input_numeric(id=\"selected_number_of_bins\",label=\"Select Number of Bins (Plot4)\",value=10)\n    ui.input_selectize(id=\"selected_island\",label=\"Select Penguins Island (Plot 5)\",choices=[\"Torgersen\",\"Biscoe\",\"Dream\"],selected=\"Dream\")\n    ui.hr()\n    ui.a(\"Link HERE\",href=\"https://github.com/crsellinger/cintel-02-data\",target=\"_blank\")\n", "type": "text"}]